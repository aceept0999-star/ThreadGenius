# ThreadGenius 🚀
## あなた専用 Threads投稿自動生成ツール

ThreadPostに匹敵する、あなた専用にカスタマイズされた最強Threads自動投稿ツールです。

## ✨ 主な機能

### 1. 🎭 ペルソナベース投稿生成
- 複数のペルソナ（発信キャラクター）を管理
- グルメ、ビジネス、フィットネスなど自由に設定
- ペルソナごとに口調、価値観、ターゲットをカスタマイズ

### 2. 📰 ニュース自動収集
- RSSフィードから最新ニュースを自動取得
- カスタムRSS追加可能
- トレンドトピックとの連携

### 3. 🤖 AI投稿生成（Claude API）
- **2026年最新Threadsアルゴリズム完全対応**
  - 投稿頻度重視
  - 会話誘発設計
  - テキスト中心
  - トピックタグ最適化
- 一度に複数の投稿案を生成
- 各投稿に詳細なスコアリング

### 4. 📊 8種類メトリクスでスコアリング
- **会話誘発度**（30点）：リプライを誘う力
- **トレンド適合性**（25点）：トレンドとの関連性
- **感情的インパクト**（20点）：感情を揺さぶる力
- **提供価値**（15点）：有益情報の量
- **Stage1突破ポテンシャル**（10点）：初速の期待値

### 5. 🔗 Threads API連携
- OAuth認証
- 自動投稿機能
- 投稿予約機能
- インサイト分析（予定）

## 🎯 2026年最新Threadsアルゴリズム対応

ThreadGeniusは、以下の最新戦略を実装しています：

### 【3つの鍵】
1. **投稿頻度**：「いること」をアルゴリズムに知らせる
2. **会話の質**：「いいね」より「リプライ」を重視
3. **テキスト中心**：AIが理解できる投稿設計

### 【4段階ステージ評価】
- **Stage1**：初期配信（フォロワーの一部）→ 初速の反応
- **Stage2**：拡大配信（フォロワー全体）→ 反応の持続性
- **Stage3**：発見・おすすめ（フォロワー外）→ トレンドとの関連性
- **Stage4**：広範囲拡散（Instagram等外部）→ シェア価値

## 🚀 セットアップ

### 1. 必要なもの

- Python 3.8以上
- Anthropic API Key（Claude API）
- Threads App ID & App Secret（Meta Developersで取得）

### 2. インストール

```bash
# リポジトリをクローン（またはファイルをダウンロード）
cd thread_genius

# 必要なパッケージをインストール
pip install -r requirements.txt
```

### 3. API キーの設定

以下の方法でAPIキーを設定できます：

#### 方法1：環境変数（推奨）
```bash
export ANTHROPIC_API_KEY="your-anthropic-api-key"
export THREADS_APP_ID="your-threads-app-id"
export THREADS_APP_SECRET="your-threads-app-secret"
```

#### 方法2：.envファイル
```bash
# .envファイルを作成
echo "ANTHROPIC_API_KEY=your-anthropic-api-key" > .env
echo "THREADS_APP_ID=your-threads-app-id" >> .env
echo "THREADS_APP_SECRET=your-threads-app-secret" >> .env
```

#### 方法3：アプリ内で直接入力
起動後、サイドバーから直接入力することも可能です。

### 4. 起動

```bash
streamlit run app.py
```

ブラウザが自動的に開き、ThreadGeniusが起動します！

## 📖 使い方

### ステップ1：ペルソナを設定

1. 「🎭 ペルソナ管理」タブを開く
2. デフォルトのペルソナを使うか、新しく作成
3. 名前、専門分野、口調、価値観などを設定

### ステップ2：Threads API連携（初回のみ）

1. Meta Developersで Threads アプリを作成
2. 「🔗 Threads連携」タブで認証
3. OAuth認証を完了

### ステップ3：投稿を生成

1. 「📝 投稿生成」タブを開く
2. ペルソナを選択
3. ニュースを取得または手動入力
4. 「🎨 投稿を生成」をクリック
5. 生成された投稿から選んで投稿！

## 🎨 ThreadGeniusの投稿生成プロンプト

ThreadGeniusは、以下の要素を組み込んだ高度なプロンプトを使用：

```
✓ ペルソナの個性（専門分野、口調、価値観）
✓ 2026年最新Threadsアルゴリズム
✓ 4段階ステージ評価
✓ 会話誘発設計（質問・意見を求める）
✓ 500文字以内で「ツッコミ代」を残す
✓ トピックタグ最適化
```

## 📊 スコアリングシステム

各投稿案は以下の基準で自動スコアリング：

| 項目 | 重み | 説明 |
|------|------|------|
| 会話誘発度 | 30% | 質問や意見を求める要素の有無 |
| トレンド適合性 | 25% | トレンドトピックとの関連性 |
| 感情的インパクト | 20% | 感情を揺さぶる言葉の使用 |
| 提供価値 | 15% | 有益情報の量 |
| Stage1突破ポテンシャル | 10% | 初速での反応期待値 |

**スコア80点以上**：Stage3以上到達の可能性高  
**スコア60-79点**：Stage2安定到達  
**スコア60点未満**：改善の余地あり

## 🔧 カスタマイズ

### RSSフィードの追加

1. サイドバーの「📰 RSSフィード」セクション
2. 新しいRSS URLを入力して「追加」

### ペルソナのカスタマイズ

`config.py`の`DEFAULT_PERSONAS`を編集するか、アプリ内で直接作成できます。

### スコアリング重みの調整

`config.py`の`SCORING_WEIGHTS`を編集：

```python
SCORING_WEIGHTS = {
    "conversation_trigger": 0.30,  # 会話誘発度
    "trend_relevance": 0.25,       # トレンド適合性
    "emotional_impact": 0.20,       # 感情的インパクト
    "value_provided": 0.15,         # 提供価値
    "stage1_potential": 0.10        # Stage1突破ポテンシャル
}
```

## 📁 ファイル構成

```
thread_genius/
├── app.py                 # メインアプリケーション（Streamlit UI）
├── config.py              # 設定ファイル
├── ai_generator.py        # AI投稿生成モジュール
├── news_collector.py      # ニュース収集モジュール
├── threads_api.py         # Threads API連携モジュール
├── requirements.txt       # 必要なパッケージ
└── README.md             # このファイル
```

## 🎯 今後の機能追加予定

- [ ] 投稿パフォーマンス分析ダッシュボード
- [ ] 画像生成機能（AI画像と連携）
- [ ] 自動投稿スケジューラー
- [ ] A/Bテスト機能
- [ ] インサイト自動分析
- [ ] 競合分析機能

## ⚠️ 注意事項

### Threads API制限

- **投稿数制限**：24時間以内に250投稿まで
- **アクセストークン**：60日間有効（自動更新可能）

### ベストプラクティス

1. **投稿頻度**：1日1-5回を推奨
2. **投稿後のアクション**：最初の1時間はリプライに即返信
3. **テキスト重視**：画像だけではなく、必ずテキストを添える
4. **会話設計**：質問や意見を求める投稿を意識

## 🤝 サポート

質問や問題があれば、以下にお問い合わせください：

- プロジェクトのIssueを作成
- または直接メッセージ

## 📜 ライセンス

このプロジェクトは個人利用専用です。

---

## 🎉 さあ、ThreadGeniusでThreadsを攻略しましょう！

**2026年のThreadsで勝つのは、会話を設計できる人です。**

ThreadGeniusはあなたの最強の武器となります。

Happy Posting! 🚀✨
